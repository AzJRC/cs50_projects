<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lorem Ipsum Highlighter</title>
  <!-- Include Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    /* Add any additional custom styling here */
  </style>
</head>
<body>
  <div class="container mt-5">
    <h1>Lorem Ipsum Text</h1>
    <p id="loremIpsumText">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse sed justo eget lectus euismod cursus. Integer pharetra tellus felis, in suscipit velit laoreet nec. Vestibulum bibendum ex sed magna consectetur laoreet. Fusce aliquam, metus eu lacinia commodo, odio quam posuere turpis, et tincidunt felis sapien eu tellus. Vivamus nec felis urna. Quisque nec fringilla odio, vel ultrices metus. Vestibulum sit amet quam vel odio bibendum hendrerit. Donec ultrices, urna id ultrices feugiat, velit nunc pellentesque ipsum, nec egestas purus odio at mi. Integer vitae tristique neque, eu luctus felis. Vivamus vel scelerisque mi, non rhoncus lorem. Donec dictum lacinia nisi, at cursus odio dignissim eget.
    </p>
  </div>

  <!-- Include Bootstrap JS and jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  
  <script>

    // JavaScript to handle text highlighting
    $(document).ready(function() {
    var highlightedTexts = [];

    $("#loremIpsumText").on("mouseup", function() {
      var selectedText = window.getSelection().toString().trim();
      if (selectedText !== "") {
        if (!highlightedTexts.includes(selectedText)) {
          if (selectedText.includes("consectetur")) {
            // If the selected text contains "consectetur", apply a different class for styling
            var markTag = '<mark class="highlighted">' + selectedText + '</mark>';
          } else {
            // Otherwise, use the regular <mark> tag for styling
            var markTag = '<mark>' + selectedText + '</mark>';
          }

          // Add the selected text to the registry
          highlightedTexts.push(selectedText);

          var highlightedText = $("#loremIpsumText").html().replace(selectedText, markTag);
          $("#loremIpsumText").html(highlightedText);
        }
      }
    });
  });

  </script>
</body>
</html>